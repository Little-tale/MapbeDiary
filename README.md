
# ë©”ëª¨ ì¼ì§€ë„ ReadMe

- ë©”ëª¨ì¼ì§€ë„ ì•±ì€ Swiftë¡œ êµ¬í˜„í•œ ì§€ë„ê¸°ë°˜ ë©”ëª¨ì•± ì…ë‹ˆë‹¤.

> ì¼ìƒ ì†, ìŠ¤ì³ ì§€ë‚˜ê°€ëŠ” ìˆ˜ë§ì€ ì¥ì†Œë“¤ì€ ì¢…ì¢… ìƒê°ë³´ë‹¤ ë” ê¹Šì€ ì˜ë¯¸ë¥¼ ì§€ë‹ ë•Œê°€ ìˆìŠµë‹ˆë‹¤.
ì´ëŸ° ì¥ì†Œë“¤ì— ë‹´ê¸´ ìš°ë¦¬ì˜ ì¶”ì–µê³¼ ê²½í—˜ì€ ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ í¬ë¯¸í•´ì§€ê¸° ì‰¬ìš´ë°,
ë§Œì•½ ì´ëŸ¬í•œ ìˆœê°„ë“¤ì„ ë³´ë‹¤ êµ¬ì²´ì ìœ¼ë¡œ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸¸ ìˆ˜ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œìš”?
> 

# ì†Œê°œ ì‚¬ì§„ 

![GitImage 001](https://github.com/Little-tale/MapbeDiary/assets/116441522/ad505d13-463c-4b0a-91a1-905650908e67)


# ğŸ“· ë©”ëª¨ ì¼ì§€ë„ í”„ë¡œì íŠ¸ ì†Œê°œ

> ì§€ì—­ì„ ì €ì¥í•˜ê³  ê·¸ì§€ì—­ì— ëŒ€í•œ ê¸°ë¡ì„ ë‚¨ê¹ë‹ˆë‹¤.
> 
- ë©”ëª¨ ì¼ì§€ë„ëŠ” ì§€ë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë©”ëª¨ì™€ ì‚¬ì§„ì„ ë‚¨ê¸¸ìˆ˜ ìˆëŠ” ì•±ì…ë‹ˆë‹¤.
- ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ í†µí•´ ë©”ëª¨ë¥¼ ë‚¨ê¸¸ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íŠ¹ì • ì¥ì†Œë¥¼ ê²€ìƒ‰í•´ ë©”ëª¨ë¥¼ ë‚¨ê¸¸ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í•˜ë‚˜ì˜ ì¥ì†Œì—ì„œ ì—¬ëŸ¬ ë©”ëª¨ë¥¼ ë‚¨ê¸¸ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì§€ë„ì˜ ë§ˆì»¤ë¥¼ ì‚¬ìš©ìê°€ ì •í•œ ì‚¬ì§„ìœ¼ë¡œ ë³€ê²½í•´ ì»¤ìŠ¤í…€ í• ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì—¬ëŸ¬ ì¥ì†Œì— ë‚¨ê¸´ ë©”ëª¨ë“¤ì„ ëª¨ì•„ ë³¼ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“¸ ê°œë°œê¸°ê°„

> 3/4 ~ 3/24 ( 2ì£¼ê°„ )
> 

# ğŸ“· ì‚¬ìš©í•œ ê¸°ìˆ ë“¤

- UIKit / MapKit
- MVVM / Facade /  Router / Repository / strategy / SingleTone
- URLSession / Decodable
- CodeBaseUI / SnapKit /  Compositional
- Realm(Swift) / FireBase Analytics / FireBase Crashlytics
- FloatingPanel / IQKeyboard / Toast
- API : KAKAO REST API ( í‚¤ì›Œë“œë¡œ ì¥ì†Œ ê²€ìƒ‰í•˜ê¸°, ì¢Œí‘œë¡œ ì£¼ì†Œ ë³€í™˜í•˜ê¸° )

# ğŸ“· ê¸°ìˆ ì„¤ëª…

## MVVM

> ì»¤ìŠ¤í…€ Observable í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ MVVM Input-outputíŒ¨í„´ì„ í†µí•´ 
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
> 

## URLSession

> Api ìš”ì²­ì‹œ ê°ê°ì˜ ì—ëŸ¬ë“¤ì„ ì§ì ‘ í•¸ë“¤ë§ í•˜ê¸°ìœ„í•´
ë¼ìš°í„° íŒ¨í„´ê³¼ ì „ëµì  íŒ¨í„´ì„ ì„ì–´ ê° APIì˜ ì—ëŸ¬ì½”ë“œë‚˜ 
URLResponse ë“±ì˜ ì—ëŸ¬ë“¤ì„ í•¸ë“¤ë§ í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

## Realm Swift

> EmbeddedObjectì™€ LinkingObjectë¥¼ í†µí•´ 
Too many RelationShip ì„ ì»¨íŠ¸ë¡¤í•˜ì˜€ìœ¼ë©°, ê°ê°ì˜ ì—ëŸ¬ë“¤ì„ Enumìœ¼ë¡œ ì •ì˜í•´ 
ì—ëŸ¬ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-27 á„‹á…©á„’á…® 7 04 31](https://github.com/Little-tale/MapbeDiary/assets/116441522/c4249ad9-bb5f-40b1-98c3-7a33b68d79ea)

## FireBase **Crashlytics / FireBase Analytics**

- ì‚¬ìš©ìë“¤ì´ ì‚¬ìš©ì‹œ ë¬¸ì œê°€ ë°œìƒí•œ ë¶€ë¶„ë“¤ì„ ë¶„ì„í•´ ë³´ì™„í•˜ê¸° ìœ„í•´ **Crashlyticsë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.**
- ë˜í•œ ì–´ë– í•œ ì”¬ì—ì„œ ë§ì€ ì´íƒˆì´ ë°œìƒí•˜ì˜€ëŠ”ì§€ ë¶„ì„í•˜ê¸° ìœ„í•´ **FireBase Analyticsë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.**

# ğŸ“· ì•± íë¦„ë„

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-24 á„‹á…©á„’á…® 11 23 05](https://github.com/Little-tale/MapbeDiary/assets/116441522/6e89f990-5c21-4613-9e0b-3d1a3a448158)

# UI ScreenShot 

## ì˜¨ë³´ë”© í™”ë©´

![1](https://github.com/Little-tale/MapbeDiary/assets/116441522/f81da74a-90ba-4c65-8c82-a88b97416c7a)

## ë§ˆì»¤ ì´ë¯¸ì§€ ë³€ê²½

![2](https://github.com/Little-tale/MapbeDiary/assets/116441522/186528e0-1492-485e-8530-4cb3094a99b3)

## Detail ë©”ëª¨ ìˆ˜ì •

![3](https://github.com/Little-tale/MapbeDiary/assets/116441522/ef0fc024-182e-48c6-973e-9c20f9b73a38)

## ì„¤ì •ì°½

![4](https://github.com/Little-tale/MapbeDiary/assets/116441522/5e34fea8-4bd9-4ccb-8752-ff1db3709a4b)

## ê²€ìƒ‰í™”ë©´ê³¼ ë§ˆì»¤

![5](https://github.com/Little-tale/MapbeDiary/assets/116441522/917c9678-ead0-4391-9a31-8ba57e5387ca)

## Detailë©”ëª¨ ì‘ì„±

![6](https://github.com/Little-tale/MapbeDiary/assets/116441522/eaaac89f-4d7c-424e-b13f-1e6269991f23)

## Detailë©”ëª¨ ì‚­ì œì™€ Location ì‚­ì œ

![7](https://github.com/Little-tale/MapbeDiary/assets/116441522/b9a57886-9817-4d40-8b22-ea63ce033418)
## longPress ì™€ ì €ì¥

![8](https://github.com/Little-tale/MapbeDiary/assets/116441522/22e96509-3fbc-4710-affb-d75470e24d7c)

## ì¶”ê°€ ë©”ëª¨ ì‘ì„±

![9](https://github.com/Little-tale/MapbeDiary/assets/116441522/2ea1be05-0a71-4389-b763-d6dc072d6cb8)

## ì‚¬ìš©ì ë§ˆì»¤ ì•¡ì…˜,
Memo ë²„íŠ¼ ì•¡ì…˜,
List ì—ì„œ ë©”ëª¨ ì‚­ì œ

![10](https://github.com/Little-tale/MapbeDiary/assets/116441522/798da9ea-5583-47b0-ad2d-8bf9755feb36)

# ìƒˆë¡­ê²Œ í•™ìŠµ í•œ ë¶€ë¶„ ê³¼ ê³ ë ¤í–ˆë˜ ì‚¬í•­

## ë„¤íŠ¸ì›Œí¬ ì˜¤í”„ë¼ì¸ ìƒí™©ì—ì„œë„ ì‘ë™í•˜ë„ë¡

> ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šì€ ìƒíƒœì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡, <br>
ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ ê°ì§€í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©ìê°€ ë©”ëª¨ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ì‚¬ì§„ì„ ë‚¨ê¸¸ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

```swift
import Network
final class NetWorkServiceMonitor {

    static let shared = NetWorkServiceMonitor()    
    private let queue = DispatchQueue.global(qos: .background)
    private let monitor: NWPathMonitor
    public private(set) var isConnected: Bool = false
    public private(set) var connectionType: ConnectionType = .unknown
    
    enum ConnectionType {
        case cellular
        case ethernet
        case unknown
        case wifi
    }
    // ë„¤íŠ¸ì›Œí¬ ìƒíƒœ í™•ì¸
    public func startMonitor(){} 
```

## ì´ë¯¸ì§€ ë³€ê²½ì‹œ ë³€ê²½ëœ ì‚¬í•­ë§Œ ì ìš©í•˜ê¸°

> ì´ë¯¸ ì‚¬ìš©ìê°€ ì €ì¥í•˜ì˜€ë˜ ì´ë¯¸ì§€ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ì˜€ì„ ë•Œ <br>
ê¸°ì¡´ì˜ ë°©ì‹ì´ì—ˆë˜ ì§€ìš°ê³  ë‹¤ì‹œ ì“°ê¸°ëŠ” ë°ì´í„° ì²˜ë¦¬ì™€ ì„±ëŠ¥ì— ìˆì–´ <br>
ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ì´ë¼ëŠ” íŒë‹¨ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. <br>
ì´ì— ë”°ë¼ ê¸°ì¡´ì˜ ë°ì´í„°ì™€ ìˆ˜ì •ë˜ì–´ì•¼ í•  ë°ì´í„°ë¥¼ ë¹„êµí•˜ì—¬ ìµœì†Œí•œì˜ ë¹„ìš©ìœ¼ë¡œ <br> 
ì¶”ê°€ ì‚­ì œê°€ ë  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

```swift
var removeImageObject: [ImageObject] = []
var originalImageObject: [ImageObject] = []

........
 // ì›ë³¸ | A | B | C | >= index + 1
  if (indexPath.item + 1) <= originalCount, originalCount != 0 {
      // ì§€ì›Œì§ˆ ì—ì •ìœ¼ë¡œ ì˜®ê¸°ê¸°
      let willRemove = emptyModel.value.originalImageObject[indexPath.item]
            
      emptyModel.value.removeImageObject.append(willRemove)
      emptyModel.value.originalImageObject.remove(at: indexPath.item)
 }
 ........
```

## ì¹´ë©”ë¼ì™€ ê°¤ëŸ¬ë¦¬ ê¶Œí•œì„ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ (Facade íŒ¨í„´)

> í˜„ì¬ í”„ë¡œì íŠ¸ì—ëŠ” ì—¬ëŸ¬ ì”¬ì—ì„œ ì¹´ë©”ë¼ì™€ ì´ë¯¸ì§€ ê¶Œí•œì„ ìš”êµ¬í•˜ê³ , ì´ë¯¸ì§€ ë°›ì•„ì•¼ í•˜ì˜€ìŠµë‹ˆë‹¤. <br>
ê·¸ë•Œë§ˆë‹¤ í•´ë‹¹í•˜ëŠ” ViewController ì—ì„œ ê¶Œí•œì„ í™•ì¸í•˜ê³  ìš”êµ¬í•˜ê³ , <br>
ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ì„ í•˜ëŠ” ê²ƒì´ ë¹„íš¨ìœ¨ì ì¸ ì‘ì—…ì´ë¼ê³  íŒë‹¨í•˜ì—¬ <br>
Image ê¶Œí•œê³¼ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ì—¬ ì£¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. 
> 

```swift
enum ImagePickMode{
    case camera // í•œì¥ë§Œ í•  ê²½ìš°
    case maximer(Int) // ê°¤ëŸ¬ë¦¬, ì—¬ëŸ¬ì¥ì´ì§€ë§Œ ìµœëŒ€ì •í•˜ê¸°
}
enum ImageServiceError: Error {
    case cantGetImage
}

/// ì´ë¯¸ì§€ ê´€ë ¨ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ì…ë‹ˆë‹¤.
final class ImageService: NSObject { 
        // ì´ë¯¸ì§€ì˜ ê²°ê³¼ íƒ€ì…
        typealias ImageResult = ( Result<[UIImage]?, ImageServiceError> ) -> Void
        /// ì´ë¯¸ì§€ í”¼ì»¤ë¥¼ ë„ìš¸ ViewController
    private weak var presntationViewController: UIViewController?
    /// ì´ë¯¸ì§€ ê²°ê³¼ í•¸ë“¤ëŸ¬
    private var complitionHandler: ( ( Result<[UIImage]?, ImageServiceError> ) -> Void )?
       
    func pickImage(complite: @escaping ImageResult){ ... } 
    
    func checkCameraPermission(compltion: @escaping (Bool) -> Void)
..........
 
}
```

# **localization**

> í˜„ì¬ ì•±ì€ í•œêµ­ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•±ì´ì§€ë§Œ, í•œêµ­ì— ì‚¬ëŠ” ì™¸êµ­ì¸ë“¤ì„ ìœ„í•´ <br>
í˜„ì§€í™” ì‘ì—…ì„ í†µí•´ ì˜ì–´ë¡œë„ ì•±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í˜„ì§€í™” ì‘ì—…ì„ í–ˆìŠµë‹ˆë‹¤.
> 

```swift
// Localizable.strings (ko)
"Error_alert_title" = "ì—ëŸ¬";

"Alert_check_title" = "í™•ì¸";

"Cancel_check_title" = "ì·¨ì†Œ";

"Kakao_error_message_type1" = "ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•´ì£¼ì„¸ìš”!";
......
// Localizable.strings (en) 
"Error_alert_title" = "Error";

"Alert_check_title" = "check";

"Cancel_check_title" = "Cancel";

"Kakao_error_message_type1" = "There was a problem with the service, please restart it!";
.....
```

# ì´ìŠˆ ëŒ€ì²˜

## Panel ë‚´ë ¤ê°€ëŠ” ë„ì¤‘ ìƒˆë¡œìš´ Panelì— ì˜í•œ ( UI ë¹„ë™ê¸° Issue )

> Panelì„ ë³´ê³  ìˆëŠ” ë™ì•ˆ ë‹¤ë¥¸ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ Panelì„ ë„ì–´ì•¼ í•  ë•Œ ë³´ê³  ìˆë˜ Panelì´ ë‚´ë ¤ê°€ëŠ” ë„ì¤‘ 
ìƒˆë¡œìš´ Panelì´ ë‚˜ì˜¤ê²Œ ë¨ìœ¼ë¡œì¨ ì›ë˜ì˜ Panelì´ deinitì€ ë˜ì—ˆìœ¼ë‚˜
í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” Issue ( UI ë¹„ë™ê¸° Issue ) ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
> 

> Panelì´ ì™„ì „íˆ ë‚´ë ¤ê°”ìŒì„ @escaping ìœ¼ë¡œ ê°ì§€í•˜ì—¬ 
ìƒˆë¡œìš´ Panelì„ UIì— ê·¸ë¦¬ê²Œ í•¨ìœ¼ë¡œì¨ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

```swift
// MARK: íŒë„¬ì„ ë‚´ë¦¬ê³  ì‹¶ì„ë•Œ
    private func removeExistingPanelIfNeeded(completion: @escaping () -> Void) {
        if let existingPanel = floatPanel {
            existingPanel.removePanelFromParent(animated: true) { [weak self] in
                self?.floatPanel = nil
                completion()
            }
        } else {
            completion()
        }
    }
```

```swift
 private func updateFloatingPanel(with configuration: PanelConfiguration) {
        removeExistingPanelIfNeeded { [weak self] in
            self?.setupPanel(with: configuration)
        }
    
```

## Image Resizing ì´ìŠˆì™€ ë©”ëª¨ë¦¬ ê´€ì°°

![imageResizing](https://github.com/Little-tale/MapbeDiary/assets/116441522/0a09eb5b-bd8a-4054-bf7e-022d8a3c949d)

> ë²„íŠ¼ì´ë‚˜ ë§ˆì»¤ì— ì´ë¯¸ì§€ë¥¼ ì ìš©í•  ë•Œ,
ì´ë¯¸ì§€ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ ì˜ì—­ì„ ë²—ì–´ë‚˜ëŠ”
ì´ìŠˆê°€ ìˆì—ˆìŠµë‹ˆë‹¤. 
ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„
ì ìš©í•˜ì˜€ëŠ”ë°,
> 

> ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ë¹„êµí•˜ê¸° ìœ„í•´ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ í•˜ì§€ ì•Šì•˜ì„ ë•Œì™€
ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ í•˜ê³ ë‚˜ì„œ ì €ì¥í•˜ê³  ì ìš© í•˜ì˜€ì„ ë•Œë¥¼ ë¹„êµí•˜ì—¬ ìµœëŒ€í•œì˜ íš¨ìœ¨ì„ ìœ„í•´
ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ í•œí›„ ì €ì¥í•œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì„ ì±„íƒí•˜ì˜€ìŠµë‹ˆë‹¤.
> 

### ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• í•˜ê¸°ì „

![ResigingBefore](https://github.com/Little-tale/MapbeDiary/assets/116441522/55b13036-d27a-49c1-a53f-209bc3d34961)


### ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•í›„
(ì´ë¯¸ì§€ ì €ì¥í• ë•Œ ë¦¬ì‚¬ì´ì§•í›„ ì €ì¥)

![ResizingAfter](https://github.com/Little-tale/MapbeDiary/assets/116441522/12a9198c-14b4-4fee-a42a-af9e63297af6)


```swift
// MARK: ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•
    func resizingImage(targetSize: CGSize) -> UIImage?{
        let widthScale = targetSize.width / self.size.width
        let heightScale = targetSize.height / self.size.height
        
        let minAbout = min(widthScale, heightScale)
        
        let scaledImageSize = CGSize(width: size.width * minAbout, height: size.height * minAbout)
        
        let render = UIGraphicsImageRenderer(size: scaledImageSize)
        
        let scaledImage = render.image { [weak self] _ in
            guard let self else { return }
            draw(in: CGRect(origin: .zero, size: scaledImageSize))
        }
        return scaledImage
    }
```

---
